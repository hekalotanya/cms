(this.webpackJsonpcms_demo=this.webpackJsonpcms_demo||[]).push([[0],{140:function(e,t,a){e.exports=a(157)},146:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},157:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(49),l=a.n(c),i=a(77),s=a(9),o=a(28),m=a.n(o),u=a(50),d=a(72),p=a(172),b=a(169),v=a(175),E=a(171),f="https://hekalot-cms.herokuapp.com/articles",h=function(){var e=Object(u.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(f);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={posted:!1,message:""},e.prev=1,e.next=4,fetch(f,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:e.sent.ok&&(a.posted=!0,a.message="Article added, check /articles page"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a.message=e.t0;case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),y=(a(146),function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),i=Object(d.a)(l,2),s=i[0],o=i[1],f=Object(n.useCallback)(Object(u.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,h();case 3:t=e.sent,o(t),c(!1);case 6:case"end":return e.stop()}}),e)}))),[]);return Object(n.useEffect)((function(){f()}),[f]),r.a.createElement("div",null,a?r.a.createElement("div",{className:"container"},r.a.createElement(p.a,{active:!0},r.a.createElement(b.a,{content:"Loading"}))):r.a.createElement(v.a,null,r.a.createElement(E.a.Group,{className:"cards",centered:!0,itemsPerRow:3,items:s.map((function(e){return{header:e.title,description:e.body,meta:"Post id: ".concat(e.id)}}))})))}),O=a(96),j=a(111),N=a(170),k=a(173),w=(a(152),function(){var e=Object(n.useState)({title:"",body:""}),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)({type:"",message:""}),i=Object(d.a)(l,2),s=i[0],o=i[1],p=Object(n.useCallback)(Object(u.a)(m.a.mark((function e(){var t,n,r,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,r=a.title.trim(),l=a.body.trim(),r&&l){e.next=7;break}return o({type:"error",message:"All fields are required!"}),c({title:r,body:l}),e.abrupt("return");case 7:return e.next=9,g(a);case 9:n=e.sent,(null===(t=n)||void 0===t?void 0:t.posted)?(c({title:"",body:""}),o({type:"posted",message:n.message})):o({type:"error",message:n.message});case 11:case"end":return e.stop()}}),e)}))),[a]),b=Object(n.useCallback)((function(e){var t=e.target,a=t.name,n=t.value;o({type:"",message:""}),c((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(O.a)({},a,n))}))}),[]);return r.a.createElement("div",{className:"container"},r.a.createElement(v.a,{className:"form-container"},"Create new article",r.a.createElement(N.a,{className:"form",onSubmit:p},r.a.createElement(N.a.Field,null,r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{onChange:b,name:"title",value:a.title,id:"title",placeholder:"Article Title"})),r.a.createElement(N.a.Field,null,r.a.createElement("label",{htmlFor:"body"},"Body"),r.a.createElement("textarea",{onChange:b,name:"body",value:a.body,id:"body",placeholder:"Article Body"})),s&&r.a.createElement("div",{className:"".concat(s.type)},s.message),r.a.createElement(k.a,{type:"submit"},"Create an Article"))))}),_=(a(153),function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"main-heading"},"CMS DEMO"),r.a.createElement("h5",{className:"sub-heading"},"by Hekalo Tanya"))}),x=(a(154),a(155),function(){return r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("ul",{className:"navigation"},r.a.createElement("li",{className:"navigation__item"},r.a.createElement(i.b,{activeClassName:"navigation__item--active",exact:!0,to:"/"},"Home")),r.a.createElement("li",{className:"navigation__item"},r.a.createElement(i.b,{activeClassName:"navigation__item--active",to:"/articles"},"Articles")),r.a.createElement("li",{className:"navigation__item"},r.a.createElement(i.b,{activeClassName:"navigation__item--active",to:"/new-article"},"New Article")))),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/articles"},r.a.createElement(y,null)),r.a.createElement(s.a,{path:"/new-article"},r.a.createElement(w,null)),r.a.createElement(s.a,{path:"/"},r.a.createElement(_,null)))))}),C=document.getElementById("root");l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),C)}},[[140,1,2]]]);
//# sourceMappingURL=main.86055d08.chunk.js.map